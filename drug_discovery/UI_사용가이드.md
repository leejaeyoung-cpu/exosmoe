# AI 신약 발견 파이프라인 - UI 버전 가이드

## 🎨 Streamlit UI 실행 방법

### 빠른 시작

1. **`UI실행.bat`** 더블클릭
2. 웹 브라우저가 자동으로 열림 (http://localhost:8501)
3. 아름다운 UI에서 파이프라인 실행 및 결과 확인!

### 수동 실행 (터미널)

```bash
cd drug_discovery
streamlit run app_ui.py
```

---

## 📱 UI 기능

### 🏠 홈 탭

- **시스템 개요**: 파이프라인 3단계 설명
- **주요 지표**: 논문 수, 타겟 수, 후보 물질 수
- **시작 가이드**: 빠른 사용 방법

### 🚀 실행 탭

- **파이프라인 시작 버튼**: 클릭 한 번으로 전체 파이프라인 실행
- **실시간 진행 상황**: Progress bar + 단계별 상태
- **실행 로그**: 상세 로그 확인 가능

### 📊 결과 탭

**Top 10 후보 물질 테이블**
- 순위, 분자 이름, 종합 점수, 결합력, QED, 독성, 추천 등급

**인터랙티브 차트** (Plotly)
- Bar chart: Top 10 점수 비교
- Scatter plot: Binding vs ML Score
- Histogram: QED 분포
- Pie chart: 추천 등급 분포

**데이터 다운로드**
- CSV 파일 다운로드
- 시각화 이미지 다운로드

### 📄 보고서 탭

- **Markdown 보고서**: 자동 생성된 상세 보고서 렌더링
- **다운로드**: 보고서 파일 다운로드

### ⚙️ 설정 탭

- **파이프라인 파라미터 조정**
  - 논문 수집 개수
  - 도킹 타겟 선택
  - ML 신뢰도 임계값
- **시스템 정보**: Python 버전, 경로 등
- **데이터 관리**: 결과 폴더 초기화 (옵션)

---

## 🎨 UI 스크린샷 (개념도)

```
┌─────────────────────────────────────────────────┐
│  🧬 CKD-CVD AI 신약 발견                        │
├─────────────────────────────────────────────────┤
│  [ 🏠 홈 | 🚀 실행 | 📊 결과 | 📄 보고서 | ⚙️ 설정 ] │
├─────────────────────────────────────────────────┤
│                                                 │
│  ┌───────────┐ ┌───────────┐ ┌───────────┐    │
│  │ 120+      │ │ 8개       │ │ Top 10    │    │
│  │ 논문 분석 │ │ 타겟 식별 │ │ 후보 도출 │    │
│  └───────────┘ └───────────┘ └───────────┘    │
│                                                 │
│  📖 시스템 설명                                 │
│  Phase 1: 문헌 마이닝 📚                       │
│  Phase 2: 분자 도킹 🧬                         │
│  Phase 3: 딥러닝 평가 🤖                       │
│                                                 │
│  [▶️ 파이프라인 시작하기]                      │
│                                                 │
└─────────────────────────────────────────────────┘
```

---

## 💡 사용 시나리오

### 시나리오 1: 첫 실행

1. `UI실행.bat` 더블클릭
2. 브라우저에서 UI 열림
3. **'🚀 실행'** 탭 클릭
4. **'▶️ 파이프라인 시작'** 버튼 클릭
5. 30초-1분 대기 (Progress bar 확인)
6. 완료 후 **'📊 결과'** 탭에서 Top 10 확인
7. **'📄 보고서'** 탭에서 상세 보고서 읽기
8. CSV 다운로드하여 Excel에서 추가 분석

### 시나리오 2: 결과만 보기

1. UI 실행
2. **'📊 결과'** 탭으로 바로 이동
3. 최신 실행 결과 자동 로드
4. 차트 인터랙티브하게 탐색 (확대, 축소, 호버)
5. 필요한 데이터 다운로드

### 시나리오 3: 발표 자료 준비

1. UI 실행
2. **'📊 결과'** 탭에서 차트 확인
3. 브라우저 스크린샷 캡처 (Ctrl+Shift+S)
4. **'📄 보고서'** 다운로드
5. PPT에 붙여넣기

---

## 🎯 UI 장점

### vs 터미널 실행

| 항목 | 터미널 | Streamlit UI |
|------|--------|--------------|
| **사용 편의성** | 명령어 입력 필요 | 클릭 한 번 |
| **진행 상황** | 텍스트 로그 | Progress bar + 단계 표시 |
| **결과 확인** | 파일 열어봐야 함 | 즉시 시각화 |
| **차트** | 정적 이미지 | 인터랙티브 |
| **다운로드** | 파일 탐색기 | 버튼 클릭 |
| **비전문가** | 어려움 | 쉬움 |

### 추가 기능

- ✅ **실시간 업데이트**: 파이프라인 실행 중 상태 변화
- ✅ **반응형 디자인**: 화면 크기에 맞게 조정
- ✅ **다크 모드**: Streamlit 기본 지원
- ✅ **공유 가능**: URL로 다른 사람도 접속 가능 (로컬 네트워크)

---

## 🔧 고급 사용

### 원격 접속 허용

```bash
streamlit run app_ui.py --server.address 0.0.0.0
```

이제 같은 와이파이의 다른 기기에서도 접속 가능!

### 포트 변경

```bash
streamlit run app_ui.py --server.port 8080
```

### 자동 새로고침 끄기

```bash
streamlit run app_ui.py --server.runOnSave false
```

---

## 📦 필수 패키지

UI 실행에 추가로 필요한 패키지:

```bash
pip install streamlit plotly
```

`UI실행.bat`를 사용하면 자동으로 설치됩니다!

---

## 🌟 프로 팁

### Tip 1: 차트 확대

- Plotly 차트 위에 마우스 올리면 툴바 나타남
- 🔍 확대, 📷 스크린샷, 🖱️ Pan 등 가능

### Tip 2: 데이터 필터링

- 테이블 컬럼 헤더 클릭 → 정렬
- (향후 추가: 필터 기능)

### Tip 3: 다중 실행 비교

- 여러 번 파이프라인 실행
- `results` 폴더에 각 실행 결과 저장
- UI에서 최신 결과 자동 표시

### Tip 4: 발표 모드

- 브라우저 전체화면 (F11)
- Streamlit 설정 → Wide mode
- 깔끔한 프레젠테이션!

---

## 🐛 문제 해결

### 브라우저가 안 열려요

- 수동으로 접속: http://localhost:8501
- 다른 포트 사용 중이면 8502, 8503 등으로 자동 변경

### "Address already in use"

```bash
# 다른 Streamlit 프로세스 종료
taskkill /F /IM streamlit.exe

# 또는 다른 포트 사용
streamlit run app_ui.py --server.port 8502
```

### 차트가 안 보여요

- Plotly 설치 확인: `pip install plotly`
- 브라우저 캐시 삭제 (Ctrl+Shift+Del)

---

## 🚀 다음 단계

UI가 너무 좋아서 다른 사람들에게 보여주고 싶다면:

### 옵션 1: 로컬 네트워크 공유

```bash
streamlit run app_ui.py --server.address 0.0.0.0
```

내 IP 주소 확인:
```bash
ipconfig  # Windows
```

동료에게 접속 URL 전달: `http://내IP주소:8501`

### 옵션 2: Streamlit Community Cloud 배포

- GitHub에 코드 업로드
- https://streamlit.io/cloud 에서 무료 배포
- 전 세계 어디서나 접속 가능!

---

## 🎉 축하합니다!

이제 아름다운 UI로 AI 신약 발견을 즐기세요! 🧬💊🚀

**`UI실행.bat`를 더블클릭하여 시작하세요!**
